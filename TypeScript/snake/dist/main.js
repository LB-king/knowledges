!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=document.getElementById("snake"),this.head=document.querySelector("#snake > div"),this.bodies=this.element.getElementsByTagName("div")}var n,i;return n=t,(i=[{key:"X",get:function(){return this.head.offsetLeft},set:function(e){this.head.style.left=e+"px"}},{key:"Y",get:function(){return this.head.offsetTop},set:function(e){this.head.style.top=e+"px"}},{key:"addBody",value:function(){this.element.insertAdjacentHTML("beforeend","<div></div>")}}])&&e(n.prototype,i),t}();function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:29,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:29,n=10*Math.round(Math.random()*e)+"px",i=10*Math.round(Math.random()*t)+"px";return{left:n,top:i}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=document.getElementById("food")}var t,o;return t=e,(o=[{key:"X",get:function(){return this.element.offsetLeft}},{key:"Y",get:function(){return this.element.offsetTop}},{key:"changePos",value:function(){this.element.style.left=i().left,this.element.style.top=i().top}}])&&n(t.prototype,o),e}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;r(this,e),this.score=0,this.level=1,this.scoreEle=document.getElementById("score"),this.levelEle=document.getElementById("level"),this.maxLevel=t,this.stepScore=n}var t,n;return t=e,(n=[{key:"addScore",value:function(){this.scoreEle.innerHTML=++this.score+"",this.score%this.stepScore==0&&this.addLevel()}},{key:"addLevel",value:function(){this.level<this.maxLevel&&(this.levelEle.innerHTML=++this.level+"")}}])&&a(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.direction="",this.isLive=!0,this.snake=new t,this.food=new o,this.score=new s,this.init()}var n,i;return n=e,(i=[{key:"init",value:function(){document.addEventListener("keydown",this.handleKeydown.bind(this)),this.run()}},{key:"run",value:function(){var e=[this.snake.X,this.snake.Y],t=e[0],n=e[1];switch(this.direction){case"ArrowLeft":case"Left":t-=10;break;case"ArrowUp":case"Up":n-=10;break;case"ArrowRight":case"Right":t+=10;break;case"ArrowDown":case"Down":n+=10}this.snake.X=t,this.snake.Y=n,this.isLive&&setTimeout(this.run.bind(this),300-30*(this.score.level-1))}},{key:"handleKeydown",value:function(e){this.direction=e.key}}])&&l(n.prototype,i),e}())}();